<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday ‚Äî Maneesha üéâ</title>
<!--
  Single-file index.html for GitHub Pages
  - Mint-green theme
  - Rounded-rect centered-half-body portrait (placeholder embedded as SVG). Replace with your optimized base64/photo if you have one.
  - One-time dramatic candle blow: fast flame shrink, cake jiggle, 5-7 smoke puffs, ~1.5s delay -> confetti
  - Toast near cake + surprise area on left
  - Keyboard shortcut: 'B' to blowTo replace the placeholder with Maneesha's actual (optimized, cropped) base64 image:

1. Generate a base64 data URI (e.g., data:image/jpeg;base64,AAA...)


2. Replace the VALUE of portraitSrc in the JS below (keep the quotes)


3. Commit index.html to your GitHub Pages repo -->



<style>
  :root{
    --bg1: #E8FFFB; /* pale mint */
    --bg2: #D7FFF2;
    --accent: #2FBF91; /* mint accent */
    --warm: #FFD66B; /* confetti accent */
    --card: rgba(255,255,255,0.9);
    --text: #21312B;
  }
  html,body{height:100%;}
  body{
    margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    background: linear-gradient(160deg,var(--bg1), var(--bg2));
    display:flex; align-items:center; justify-content:center; padding:28px;
    color:var(--text);
  }
  .stage{
    width:min(980px,94vw); background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.86));
    border-radius:18px; box-shadow: 0 18px 40px rgba(16,40,30,0.08);
    display:grid; grid-template-columns:1fr 380px; gap:18px; padding:20px; align-items:center; position:relative;
  }
  @media (max-width:840px){ .stage{grid-template-columns:1fr; padding:16px;} .side{order:-1} }

  /* left content */
  .left{padding:10px 6px}
  h1{font-size:clamp(20px,3.6vw,32px); margin:6px 0 8px;}
  .sub{color:#3b5b50; margin-bottom:12px}
  .card-text{background:linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4)); padding:12px; border-radius:12px; border:1px solid rgba(0,0,0,0.04);}
  .controls{margin-top:12px; display:flex; gap:8px; flex-wrap:wrap}
  button{appearance:none; border:0; padding:10px 12px; border-radius:10px; cursor:pointer; font-weight:600}
  .btn-muted{background:transparent; border:1px solid rgba(0,0,0,0.06)}

  /* surprise area hidden until reveal */
  .surprise{margin-top:12px; padding:12px; border-radius:12px; background:rgba(255,255,255,0.6); border:1px dashed rgba(0,0,0,0.05); display:none}
  .surprise.show{display:block}
  .small{font-size:13px; color:#4a6b60}

  /* side portrait & cake */
  .side{display:flex; align-items:center; justify-content:center; gap:12px}
  .portrait{
    width:320px; height:320px; border-radius:16px; overflow:hidden; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg,#fff, #f6fff9); position:relative; box-shadow: 0 8px 24px rgba(18,36,28,0.06); border:1px solid rgba(255,255,255,0.6)
  }
  .portrait img{width:100%; height:100%; object-fit:cover; display:block}

  /* cake wrap */
  .cake-wrap{position:absolute; right:18px; bottom:18px; width:150px; height:150px; display:flex; align-items:center; justify-content:center}
  .cake-btn{width:150px; height:150px; display:flex; align-items:center; justify-content:center; border-radius:14px; background:linear-gradient(180deg,#fff,#f9fffa); box-shadow: 0 10px 30px rgba(12,30,20,0.06); cursor:pointer; border:1px solid rgba(0,0,0,0.03);}
  .cake-svg{width:120px;height:120px}
  .prompt{position:absolute; bottom:-34px; left:50%; transform:translateX(-50%); background:white; padding:8px 10px; border-radius:999px; box-shadow:0 8px 18px rgba(0,0,0,0.07); font-weight:600; font-size:13px}

  /* flame */
  .flame{transform-origin:center bottom; animation:flame-flicker 900ms infinite}
  @keyframes flame-flicker{0%{transform:scaleY(1)}50%{transform:scaleY(.92)}100%{transform:scaleY(1)}}
  .flame.extinguished{animation:none; transform:scaleY(0.02) translateY(8px); opacity:0; transition:transform .48s ease, opacity .42s ease}

  /* cake jiggle */
  .jiggle{animation:jiggle 420ms ease-in-out 3}
  @keyframes jiggle{0%{transform:translateY(0)}25%{transform:translateY(-8px) rotate(-3deg)}50%{transform:translateY(0) rotate(2deg)}75%{transform:translateY(-4px) rotate(-1deg)}100%{transform:translateY(0)}}

  /* smoke (created in JS) */
  .smoke{position:fixed; background:rgba(200,200,200,0.9); border-radius:50%; pointer-events:none; mix-blend-mode:screen}

  /* confetti canvas */
  canvas.confetti{position:fixed; left:0; top:0; width:100vw; height:100vh; pointer-events:none; z-index:9999}

  /* small helper */
  .note{font-size:13px;color:#516c61;margin-top:10px}
</style></head>
<body>
  <canvas id="confettiCanvas" class="confetti" aria-hidden="true"></canvas>  <main class="stage" role="main" aria-labelledby="pageTitle">
    <section class="left">
      <h1 id="pageTitle">Happy Birthday, <span id="namePlace">Maneesha</span> üéâ</h1>
      <div class="sub">A little surprise from your best friend ‚Äî blow the candle and make a wish!</div><div class="card-text" id="shortCard">Wishing you a day of laughter, tiny adventures, and warm tea on cozy afternoons.</div>

  <div class="controls">
    <button id="playBtn" class="btn-muted">‚ñ∂Ô∏è Play/Stop Music</button>
    <button id="downloadBtn" class="btn-muted">üì∑ Save Portrait</button>
  </div>

  <div class="surprise" id="surpriseArea" aria-live="polite">
    <h3 style="margin:6px 0 8px 0">Happy Birthday, my dear friend.</h3>
    <p id="finalMsg" class="small">You and I have always been like bread and jam ‚Äî inseparable, steady, and full of quiet sweetness. Thank you for understanding my heart without words. I‚Äôm endlessly grateful for you. Wishing you a year as gentle, beautiful, and warm as you are. üíõ‚ú®</p>
  </div>
  <div class="note">Tip: press <strong>B</strong> to blow the candle.</div>
</section>

<aside class="side" aria-hidden="false">
  <figure class="portrait" role="img" aria-label="Photo of Maneesha">
    <img id="portraitImg" alt="Maneesha portrait">
    <!-- cake in corner -->
    <div class="cake-wrap" id="cakeWrap">
      <div class="cake-btn" id="cakeBtn" tabindex="0" role="button" aria-pressed="false" aria-label="Cake with candle. Click the candle to blow it.">
        <!-- simple cake svg. flameGroup is the click target -->
        <svg class="cake-svg" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect x="8" y="28" width="48" height="18" rx="3" fill="#FFF9EE" stroke="#F3E7D6"/>
          <path d="M8 28c6-6 18-6 26-1 8-5 20-5 26 1" fill="#FFEEE9"/>
          <rect x="26" y="20" width="4" height="10" rx="0.6" fill="#FFFFFF" stroke="#FFEFCB"/>
          <g id="flameGroup" style="cursor:pointer">
            <path id="flame" class="flame" d="M32 16c0 2.6-2 3.8-2 3.8s0-2 0-3.8 1-2.4 2-2.4 1 0.6 1 2.4z" fill="#FFD66B"/>
            <path id="flameInner" class="flame" d="M32 17c0 1.6-1 2.2-1 2.2s0-1 0-2.2 0.6-1.2 1-1.2 1 0.2 1 1.2z" fill="#FFB86B" opacity="0.95"/>
          </g>
        </svg>
      </div>
      <div class="prompt" id="cakePrompt">Click the candle to blow it üí®</div>
    </div>
  </figure>
</aside>

  </main><script>
/* ------------------ Configuration (edit here) ------------------ */
const recipientName = 'Maneesha';
const portraitSrc = `data:image/svg+xml;utf8,${encodeURIComponent(`
  <svg xmlns='http://www.w3.org/2000/svg' width='800' height='800'>
    <defs>
      <linearGradient id='g' x1='0' x2='1'>
        <stop offset='0' stop-color='%23f8fff8'/>
        <stop offset='1' stop-color='%23e6fff0'/>
      </linearGradient>
    </defs>
    <rect width='100%' height='100%' fill='url(%23g)'/>
    <g fill='none' stroke='%23cdebd9' opacity='0.9'>
      <circle cx='400' cy='260' r='110' fill='%23fefcf8' stroke='none'/>
    </g>
    <text x='50%' y='60%' text-anchor='middle' font-size='46' fill='%23434f42' font-family='system-ui,Arial'>Maneesha</text>
    <text x='50%' y='70%' text-anchor='middle' font-size='18' fill='%236c7f74' font-family='system-ui,Arial'>Your photo goes here</text>
  </svg>
`)}`; // placeholder SVG. Replace with optimized base64 data URI of her half-body photo if available.
const musicURL = ""; // optional: put mp3 data-uri or URL after interaction
/* ------------------ End configuration ------------------ */

// apply name & portrait
document.getElementById('namePlace').textContent = recipientName;
const portraitImg = document.getElementById('portraitImg');
portraitImg.src = portraitSrc;

/* Lightweight confetti implementation */
const confCanvas = document.getElementById('confettiCanvas');
const dpr = window.devicePixelRatio || 1;
confCanvas.width = innerWidth * dpr; confCanvas.height = innerHeight * dpr; confCanvas.style.width = innerWidth + 'px'; confCanvas.style.height = innerHeight + 'px';
const cctx = confCanvas.getContext('2d'); cctx.scale(dpr,dpr);
let confettiParticles = [];
function spawnConfetti(n=120){
  for(let i=0;i<n;i++){
    confettiParticles.push({
      x: Math.random()*innerWidth,
      y: -20 - Math.random()*innerHeight*0.2,
      size: 6 + Math.random()*10,
      speedY: 2 + Math.random()*6,
      speedX: -2 + Math.random()*4,
      angle: Math.random()*Math.PI*2,
      rotate: (-0.04 + Math.random()*0.08),
      color: ['#2FBF91','#FFD66B','#FFB86B','#72E0FF','#C2F7FF'][Math.floor(Math.random()*5)]
    });
  }
}
function updateConfetti(dt){
  for(let p of confettiParticles){
    p.y += p.speedY * dt * 0.06;
    p.x += p.speedX * dt * 0.06;
    p.angle += p.rotate * dt * 0.06;
    if(p.y > innerHeight + 40){ Object.assign(p, {x:Math.random()*innerWidth, y:-20, speedY:2+Math.random()*6}); }
  }
}
function drawConfetti(){
  cctx.clearRect(0,0,confCanvas.width,confCanvas.height);
  for(let p of confettiParticles){
    cctx.save(); cctx.translate(p.x,p.y); cctx.rotate(p.angle);
    cctx.fillStyle = p.color; cctx.fillRect(-p.size/2, -p.size/2, p.size, Math.max(2,p.size*0.6)); cctx.restore();
  }
}
let confettiRunning = false; let confLast = 0;
function confettiLoop(now){
  if(!confettiRunning) return; const dt = now - (confLast||now); confLast = now; updateConfetti(dt); drawConfetti(); requestAnimationFrame(confettiLoop);
}
function startConfetti(){ if(confettiRunning) return; confettiRunning = true; spawnConfetti(140); confLast = performance.now(); requestAnimationFrame(confettiLoop); setTimeout(()=>stopConfetti(), 7000); }
function stopConfetti(){ confettiRunning = false; confettiParticles = []; cctx.clearRect(0,0,confCanvas.width,confCanvas.height); }

/* Dramatic candle-blow sequence */
const flame = document.getElementById('flame');
const flameInner = document.getElementById('flameInner');
const flameGroup = document.getElementById('flameGroup');
const cakeBtn = document.getElementById('cakeBtn');
const cakeWrap = document.getElementById('cakeWrap');
const cakePrompt = document.getElementById('cakePrompt');
const surpriseArea = document.getElementById('surpriseArea');
let hasBlown = false; let isBlowing = false;

function makeSmokeBurst(count=6){
  for(let i=0;i<count;i++){
    setTimeout(()=>{
      const s = document.createElement('div'); s.className='smoke';
      const size = 12 + Math.random()*28; s.style.width=size+'px'; s.style.height=size+'px';
      // position near cake (approx)
      const rect = cakeBtn.getBoundingClientRect();
      const left = rect.left + rect.width/2 + (Math.random()*40-20) - size/2;
      const top = rect.top + rect.height*0.15 - size/2;
      s.style.left = left+'px'; s.style.top = top+'px'; s.style.opacity = '0.9'; s.style.background = 'radial-gradient(circle, rgba(200,200,200,0.95), rgba(180,180,180,0.25))';
      document.body.appendChild(s);
      const driftX = (-30 + Math.random()*60);
      const rise = -120 - Math.random()*60;
      s.animate([
        { transform: 'translate(0px,0px) scale(0.6)', opacity: 0.95 },
        { transform: `translate(${driftX}px, ${rise/2}px) scale(1.05)`, opacity: 0.6 },
        { transform: `translate(${driftX*1.2}px, ${rise}px) scale(1.4)`, opacity: 0.12 }
      ], { duration: 900 + Math.random()*500, easing: 'cubic-bezier(.2,.7,.2,1)' }).onfinish = ()=> s.remove();
    }, i*80);
  }
}

async function blowSequence(){
  if(hasBlown || isBlowing) return; isBlowing = true; cakeBtn.setAttribute('aria-pressed','true'); cakePrompt.textContent = 'Make a wish... blowing!';
  // tiny puff sound
  try{ const ctx = new (window.AudioContext||window.webkitAudioContext)(); const o = ctx.createOscillator(); const g = ctx.createGain(); o.type='triangle'; o.frequency.value = 1600; g.gain.value = 0.0006; o.connect(g); g.connect(ctx.destination); o.start(); g.gain.exponentialRampToValueAtTime(0.02, ctx.currentTime+0.02); g.gain.exponentialRampToValueAtTime(0.00001, ctx.currentTime+0.22); o.frequency.exponentialRampToValueAtTime(800, ctx.currentTime+0.22); o.stop(ctx.currentTime+0.26);}catch(e){}

  // quick flame shrink
  flame.classList.add('extinguished'); flameInner.classList.add('extinguished');
  // cake jiggle
  cakeBtn.classList.add('jiggle'); setTimeout(()=>cakeBtn.classList.remove('jiggle'), 1300);
  // multiple smoke puffs
  makeSmokeBurst(7);

  // dramatic pause then confetti
  setTimeout(()=>{
    startConfetti();
    // reveal surprise area (final message)
    surpriseArea.classList.add('show');
    // update prompt and aria
    cakePrompt.textContent = 'Wish made! ‚ú®'; document.getElementById('finalMsg').textContent = document.getElementById('finalMsg').textContent; // keep same
    hasBlown = true; isBlowing = false;
  }, 1500+600); // ~1.5s + small buffer for smoke
}

// click/keyboard handlers
flameGroup.addEventListener('click', (e)=>{ e.stopPropagation(); blowSequence(); });
cakeBtn.addEventListener('click', (e)=>{ blowSequence(); });
window.addEventListener('keydown', (ev)=>{ if(ev.key.toLowerCase()==='b') blowSequence(); });

/* Play button behavior (synth fallback) */
let audio = null; const playBtn = document.getElementById('playBtn');
if(musicURL){ audio = new Audio(musicURL); audio.loop = true; audio.volume = 0.75; }
playBtn.addEventListener('click', ()=>{
  if(!audio){ try{ const ctx = new (window.AudioContext||window.webkitAudioContext)(); const o = ctx.createOscillator(); const g = ctx.createGain(); o.type='sine'; o.frequency.value=880; g.gain.value=0.0001; o.connect(g); g.connect(ctx.destination); o.start(); g.gain.exponentialRampToValueAtTime(0.03, ctx.currentTime+0.02); g.gain.exponentialRampToValueAtTime(0.00001, ctx.currentTime+0.35); o.stop(ctx.currentTime+0.36);}catch(e){} return; }
  if(audio.paused){ audio.play(); playBtn.textContent = '‚è∏ Stop Music'; } else { audio.pause(); playBtn.textContent = '‚ñ∂Ô∏è Play/Stop Music'; }
});

/* Download portrait button: attempts to fetch and download data URI or same-origin file */
const downloadBtn = document.getElementById('downloadBtn');
downloadBtn.addEventListener('click', async (ev)=>{
  ev.preventDefault(); try{
    const resp = await fetch(portraitImg.src, {mode:'cors'});
    const blob = await resp.blob(); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = `${recipientName || 'portrait'}.png`; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
  }catch(err){ alert("Couldn't download image. If you embedded a local file, right-click the image and save it instead."); }
});

/* small resize handling for confetti canvas */
window.addEventListener('resize', ()=>{ const dpr = window.devicePixelRatio||1; confCanvas.width = innerWidth*dpr; confCanvas.height = innerHeight*dpr; confCanvas.style.width = innerWidth+'px'; confCanvas.style.height = innerHeight+'px'; cctx.setTransform(dpr,0,0,dpr,0,0); });
</script></body>
</html>
